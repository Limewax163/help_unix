# SSH

> [!NOTE]
> Расположение конфигурационного файла ssh: ``/etc/ssh/ssh_config``

`ClientAliveInterval` Сервер будет ждать `${секунд}` перед отправкой нулевого пакета клиенту, чтобы поддерживать соединение.

`TCPKeepAlive` Предназначен для того, чтобы некоторые брандмауэры не прерывали простаивающие соединения.

`ClientAliveCountMax` Сервер будет отправлять активные сообщения клиенту, даже если он не получил никаких сообщений от клиента.

Пример конфигурации:
```
TCPKeepAlive yes
ClientAliveInterval 60
ClientAliveCountMax 60
```
Сервер будет отправлять пакеты каждые 60 секунд (ClientAliveInterval 60) в колличестве - 60 раз (ClientAliveCountMax 60). В итоге соединение будет поддерживаться в течении часа
___
Для генерации ssh ключей можно воспользоваться командой `ssh-keygen` без передачи аргументов терминал сам в интерактивном режиме предложит ввести необходимые данные.

> [!NOTE]
> Для некоторых сервисом (например GitHUB необходимо указывать определенное имя ssh ключа чтобы подключение работало. Стоит в первую очередь обратить внимание на этот момент в случае если соединение по ssh ключам не устанавливается

SSH ключи по умолчанию сохраняются в каталоге:
``` bash
${HOMEDIR}.ssh
```
приватный ключ будет просто `<key>` публичный ключ `<key.pub>`

Для доступа на сервер по ssh ключу необходимо указать в файле `<authorized_keys>`(если не существует, то создать) публичный ключ, который в связке с приватным будет разрешать\осуществлять доступ на сервер.
___

Если необходимо использовать другие ssh ключи для доступа к определенным серверам то можно прописать файл конфигурации `~/.ssh/config`

```
Host <ip>
	IdentityFile </path/to/key>
Host <ip>
	IdentityFile </path/to/key>
```

>[!NOTE]
> Для apple необходимо явно вызвать команду чтобы подцепить ключи ssh агентом
> `ssh-add --apple-use-keychain </path/to/key>`
